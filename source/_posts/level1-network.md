title: java初级：网络
date: 2015-12-01 12:02:40
tags:
categories: [初级]
---
### 解释下Servlet的生命周期。
>对每一个客户端的请求，Servlet引擎载入Servlet，调用它的init()方法，完成Servlet的初始化。然后，Servlet对象通过为每一个请求单独调用service()方法来处理所有随后来自客户端的请求，最后，调用Servlet(译者注：这里应该是Servlet而不是server)的destroy()方法把Servlet删除掉。

### doGet()方法和doPost()方法有什么区别？
>doGet：GET方法会把名值对追加在请求的URL后面。因为URL对字符数目有限制，进而限制了用在客户端请求的参数值的数目。并且请求中的参数值是可见的，因此，敏感信息不能用这种方式传递。
doPOST：POST方法通过把请求参数值放在请求体中来克服GET方法的限制，因此，可以发送的参数的数目是没有限制的。最后，通过POST请求传递的敏感信息对外部客户端是不可见的。

### 如何知道是哪一个客户端的机器正在请求你的Servlet？
>ServletRequest类可以找出客户端机器的IP地址或者是主机名。getRemoteAddr()方法获取客户端主机的IP地址，getRemoteHost()可以获取主机名。

### forward 和 redirect 的区别
>forward 是服务器请求资源,服务器直接访问目标地址的 URL,把那个 URL 的响应内容读取 过来,然后把这些内容再发给浏览器,浏览器根本不知道服务器发送的内容是从哪儿来的, 所以它的地址栏中还是原来的地址。
>redirect 就是服务端根据逻辑,发送一个状态码,告诉浏览器重新去请求那个地址,一 般来说浏览器会用刚才请求的所有参数重新请求,所以 session,request 参数都可以获取。 20、EJB 与 JAVA BEAN 的区别?

### HTTP响应的结构是怎么样的？
>HTTP响应由三个部分组成：
**状态码(Status Code)**：描述了响应的状态。可以用来检查是否成功的完成了请求。请求失败的情况下，状态码可用来找出失败的原因。如果Servlet没有返回状态码，默认会返回成功的状态码HttpServletResponse.SC_OK。
**HTTP头部(HTTP Header)**：它们包含了更多关于响应的信息。比如：头部可以指定认为响应过期的过期日期，或者是指定用来给用户安全的传输实体内容的编码格式。如何在Serlet中检索HTTP的头部看这里。
**主体(Body)**：它包含了响应的内容。它可以包含HTML代码，图片，等等。主体是由传输在HTTP消息中紧跟在头部后面的数据字节组成的。

### 什么是cookie？session和cookie有什么区别？
>cookie是Web服务器发送给浏览器的一块信息。浏览器会在本地文件中给每一个Web服务器存储cookie。以后浏览器在给特定的Web服务器发请求的时候，同时会发送所有为该服务器存储的cookie。下面列出了session和cookie的区别：
无论客户端浏览器做怎么样的设置，session都应该能正常工作。客户端可以选择禁用cookie，但是，session仍然是能够工作的，因为客户端无法禁用服务端的session。
在存储的数据量方面session和cookies也是不一样的。session能够存储任意的Java对象，cookie只能存储String类型的对象。


### TCP建立需要进行了几次握手？
>在TCP/IP协议中，TCP协议提供可靠的连接服务，采用三次握手建立一个连接。 
- 第一次握手：建立连接时，客户端发送syn包(syn=j)到服务器，并进入SYN_SEND状态，等待服务器确认； 
- 第二次握手：服务器收到syn包，必须确认客户的SYN（ack=j+1），同时自己也发送一个SYN包（syn=k），即SYN+ACK包，此时服务器进入SYN_RECV状态； 
- 第三次握手：客户端收到服务器的SYN＋ACK包，向服务器发送确认包ACK(ack=k+1)，此包发送完毕，客户端和服务器进入ESTABLISHED状态，完成三次握手。 完成三次握手，客户端与服务器开始传送数据.

### TCP关闭需要进行了几次握手？
>四次。初始时客户端和服务端都处于ESTABLISHED状态。
- 客户端先发送一个FIN包，告诉服务端他要断开连接。
- 服务端收到FIN包后，给客户端发送一个确认包ACK，告诉应用程序他要关闭连接了。
- 当应用程序准备好断开后，服务端给客户端发送FIN包。
- 客户端收到服务端发来的FIN包后，给服务端发送ACK确认包。服务端收到之后就关闭连接。




